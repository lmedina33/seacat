{{extend 'layout.html'}}
<h2>{{=T( request.function.replace('_',' ').capitalize() )}}
    {{if request.args[0] == 'parent' or request.args[0] == 'spouse' or request.args[0] == 'candidate':}}
    {{=T( request.args[0] ).capitalize()}}
    {{elif request.args[0] == 'parent_work' or request.args[0] == 'spouse_work':}}
    {{=T( request.args[0].replace('_',' ').capitalize() )}}
    {{elif request.args[0] == 'candidate_school':}}
    {{=T( request.args[0].replace('_',' ').capitalize() )}}
    {{pass}}
</h2>
<hr>
{{=form}}
<hr>
<!--
{{=BEAUTIFY(response._vars)}}
-->
<script>
    {{#Para ocultar los campos de "email" y "mail2" si los usuarios ('spouse' y 'candidate') no están habilitados}}
    jQuery(document).ready(function(){
        if(jQuery('#no_table_has_email').length>0){
            var email = jQuery('#no_table_email').val();
            if(jQuery('#no_table_has_email').is(':checked')){
                jQuery('#no_table_email__row').show();
                jQuery('#no_table_mail2__row').show();
            } else {
                jQuery('#no_table_email__row').hide();
                jQuery('#no_table_mail2__row').hide();
            }
            jQuery('#no_table_has_email').change(function(){
                if(jQuery('#no_table_has_email').is(':checked'))
                {
                    jQuery('#no_table_email').val("");
                    jQuery('#no_table_email__row').show();
                    jQuery('#no_table_mail2__row').show();
                }
                else
                {
                    jQuery('#no_table_email').val(email);
                    jQuery('#no_table_email__row').hide();
                    jQuery('#no_table_mail2__row').hide();
                }
            });
        }
    });
</script>
<script>
    {{#Para ocultar los campos de "dirección" si el usuario 'spouse' vive con 'parent'}}
    jQuery(document).ready(function(){
        if(jQuery('#no_table_same_address').length>0){
            if(jQuery('#no_table_same_address').is(':checked')){
                jQuery('#no_table_street__row').hide();
                jQuery('#no_table_building__row').hide();
                jQuery('#no_table_floor__row').hide();
                jQuery('#no_table_apartment__row').hide();
                jQuery('#no_table_door__row').hide();
                jQuery('#no_table_street1__row').hide();
                jQuery('#no_table_street2__row').hide();
                jQuery('#no_table_prov__row').hide();
                jQuery('#no_table_loc__row').hide();
                jQuery('#no_table_zip_code__row').hide();
            } else {
                jQuery('#no_table_street__row').show();
                jQuery('#no_table_building__row').show();
                jQuery('#no_table_floor__row').show();
                jQuery('#no_table_apartment__row').show();
                jQuery('#no_table_door__row').show();
                jQuery('#no_table_street1__row').show();
                jQuery('#no_table_street2__row').show();
                jQuery('#no_table_prov__row').show();
                jQuery('#no_table_loc__row').show();
                jQuery('#no_table_zip_code__row').show();
            }
            jQuery('#no_table_same_address').change(function(){
                if(jQuery('#no_table_same_address').is(':checked'))
                {
                    jQuery('#no_table_street__row').hide();
                    jQuery('#no_table_building__row').hide();
                    jQuery('#no_table_floor__row').hide();
                    jQuery('#no_table_apartment__row').hide();
                    jQuery('#no_table_door__row').hide();
                    jQuery('#no_table_street1__row').hide();
                    jQuery('#no_table_street2__row').hide();
                    jQuery('#no_table_prov__row').hide();
                    jQuery('#no_table_loc__row').hide();
                    jQuery('#no_table_zip_code__row').hide();
                }
                else
                {
                    jQuery('#no_table_street__row').show();
                    jQuery('#no_table_building__row').show();
                    jQuery('#no_table_floor__row').show();
                    jQuery('#no_table_apartment__row').show();
                    jQuery('#no_table_door__row').show();
                    jQuery('#no_table_street1__row').show();
                    jQuery('#no_table_street2__row').show();
                    jQuery('#no_table_prov__row').show();
                    jQuery('#no_table_loc__row').show();
                    jQuery('#no_table_zip_code__row').show();
                }
            });
        }
    });
</script>
<script>
    {{#Para mostrar los campos de "dirección" si el usuario 'candidate' no vive con 'parent' o con 'spouse'}}
    jQuery(document).ready(function(){
        if(jQuery('#no_table_lives_with').length>0){
            if(jQuery('#no_table_lives_with').val()=="0"){
                jQuery('#no_table_street__row').show();
                jQuery('#no_table_building__row').show();
                jQuery('#no_table_floor__row').show();
                jQuery('#no_table_door__row').show();
                jQuery('#no_table_apartment__row').show();
                jQuery('#no_table_street1__row').show();
                jQuery('#no_table_street2__row').show();
                jQuery('#no_table_zip_code__row').show();
                jQuery('#no_table_loc__row').show();
                jQuery('#no_table_prov__row').show();
                jQuery('#no_table_obs__row').show();
            } else {
                jQuery('#no_table_street__row').hide();
                jQuery('#no_table_building__row').hide();
                jQuery('#no_table_floor__row').hide();
                jQuery('#no_table_door__row').hide();
                jQuery('#no_table_apartment__row').hide();
                jQuery('#no_table_street1__row').hide();
                jQuery('#no_table_street2__row').hide();
                jQuery('#no_table_zip_code__row').hide();
                jQuery('#no_table_loc__row').hide();
                jQuery('#no_table_prov__row').hide();
                jQuery('#no_table_obs__row').hide();
            }
            jQuery('#no_table_lives_with').change(function(){
                if(jQuery('#no_table_lives_with').val()=="0")//"{{=T("Doesn't live with parents")}}")
                {
                    jQuery('#no_table_street__row').show();
                    jQuery('#no_table_building__row').show();
                    jQuery('#no_table_floor__row').show();
                    jQuery('#no_table_door__row').show();
                    jQuery('#no_table_apartment__row').show();
                    jQuery('#no_table_street1__row').show();
                    jQuery('#no_table_street2__row').show();
                    jQuery('#no_table_zip_code__row').show();
                    jQuery('#no_table_loc__row').show();
                    jQuery('#no_table_prov__row').show();
                    jQuery('#no_table_obs__row').show();
                }
                else
                {
                    jQuery('#no_table_street__row').hide();
                    jQuery('#no_table_building__row').hide();
                    jQuery('#no_table_floor__row').hide();
                    jQuery('#no_table_door__row').hide();
                    jQuery('#no_table_apartment__row').hide();
                    jQuery('#no_table_street1__row').hide();
                    jQuery('#no_table_street2__row').hide();
                    jQuery('#no_table_zip_code__row').hide();
                    jQuery('#no_table_loc__row').hide();
                    jQuery('#no_table_prov__row').hide();
                    jQuery('#no_table_obs__row').hide();
                }
            });
        }
    });
</script>
<script>
    jQuery(document).ready(function(){
        var school_name = jQuery('#no_table_name').val();
        var school_number = jQuery('#no_table_number').val();
        var school_district = jQuery('#no_table_district').val();
        var school_street = jQuery('#no_table_street').val();
        var school_building = jQuery('#no_table_building').val();
        var school_floor = jQuery('#no_table_floor').val();
        var school_apartment = jQuery('#no_table_apartment').val();
        var school_door = jQuery('#no_table_door').val();
        var school_street1 = jQuery('#no_table_street1').val();
        var school_street2 = jQuery('#no_table_street2').val();
        var school_zip_code = jQuery('#no_table_zip_code').val();
        jQuery('#no_table_school_id').change(function(){
            if(jQuery('#no_table_school_id').val()=="")
            {
                jQuery('#no_table_name').val("");
                jQuery('#no_table_number').val("");
                jQuery('#no_table_district').val("");
                jQuery('#no_table_street').val("");
                jQuery('#no_table_building').val("");
                jQuery('#no_table_floor').val("");
                jQuery('#no_table_apartment').val("");
                jQuery('#no_table_door').val("");
                jQuery('#no_table_street1').val("");
                jQuery('#no_table_street2').val("");
                jQuery('#no_table_zip_code').val("");
            }
            else
            {
                jQuery('#no_table_name').val(school_name);
                jQuery('#no_table_number').val(school_number);
                jQuery('#no_table_district').val(school_district);
                jQuery('#no_table_street').val(school_street);
                jQuery('#no_table_building').val(school_building);
                jQuery('#no_table_floor').val(school_floor);
                jQuery('#no_table_apartment').val(school_apartment);
                jQuery('#no_table_door').val(school_door);
                jQuery('#no_table_street1').val(school_street1);
                jQuery('#no_table_street2').val(school_street2);
                jQuery('#no_table_zip_code').val(school_zip_code);
            }
        });
    });
</script>
